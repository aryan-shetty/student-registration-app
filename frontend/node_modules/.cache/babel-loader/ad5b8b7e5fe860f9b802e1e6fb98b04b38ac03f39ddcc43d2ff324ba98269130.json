{"ast":null,"code":"var _jsxFileName = \"/Users/aryanshetty/Desktop/Student App/frontend/src/components/RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentForm = ({\n  onAdd,\n  onUpdate,\n  students,\n  courses,\n  editingRegistration,\n  clearEdit\n}) => {\n  _s();\n  const [name, setName] = useState('');\n  const [course, setCourse] = useState('');\n  useEffect(() => {\n    if (editingRegistration) {\n      setName(editingRegistration.student.name);\n      setCourse(editingRegistration.course._id);\n    }\n  }, [editingRegistration]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!name || !course) return;\n    const payload = {\n      name: name.trim(),\n      course\n    };\n    const url = editingRegistration ? `http://localhost:4000/api/registrations/${editingRegistration._id}` : 'http://localhost:4000/api/registrations';\n    const method = editingRegistration ? 'PATCH' : 'POST';\n    const res = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    if (editingRegistration) {\n      onUpdate(data);\n      clearEdit();\n    } else {\n      onAdd(data);\n    }\n    setName('');\n    setCourse('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: students.name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: course.title,\n      onChange: e => setCourse(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: '',\n        children: \"Select course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), courses.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: c._id,\n        children: c.title\n      }, c._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: [editingRegistration ? 'UPDATE' : 'ADD', \" Registration\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), editingRegistration && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: clearEdit,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentForm, \"QeHZZn50SKppuDJgZqwxL/MGwpE=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","StudentForm","onAdd","onUpdate","students","courses","editingRegistration","clearEdit","_s","name","setName","course","setCourse","student","_id","handleSubmit","e","preventDefault","payload","trim","url","method","res","fetch","headers","body","JSON","stringify","data","json","onSubmit","children","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","title","map","c","type","onClick","_c","$RefreshReg$"],"sources":["/Users/aryanshetty/Desktop/Student App/frontend/src/components/RegistrationForm.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst StudentForm = ({onAdd, onUpdate, students, courses, editingRegistration, clearEdit}) => {\n\n  const [name, setName] = useState('')\n  const [course, setCourse] = useState('')\n\n  useEffect(() => {\n    if (editingRegistration) {\n      setName(editingRegistration.student.name)\n      setCourse(editingRegistration.course._id)\n    }\n  }, [editingRegistration])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    if (!name || !course) return\n\n    const payload = {\n      name: name.trim(),\n      course\n    }\n\n    const url = editingRegistration\n      ? `http://localhost:4000/api/registrations/${editingRegistration._id}`\n      : 'http://localhost:4000/api/registrations'\n\n    const method = editingRegistration ? 'PATCH' : 'POST'\n\n    const res = await fetch(url, {\n      method,\n      headers: {'Content-Type' : 'application/json'},\n      body: JSON.stringify(payload)\n    })\n\n    const data = await res.json()\n\n    if (editingRegistration) {\n      onUpdate(data)\n      clearEdit()\n    } else {\n      onAdd(data)\n    }\n\n    setName('')\n    setCourse('')\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={students.name} onChange={(e) => setName(e.target.value)}></input>\n      <select value={course.title} onChange={(e) => setCourse(e.target.value)}>\n        <option value={''}>Select course</option>\n        {courses.map((c) => (\n          <option key={c._id} value={c._id}>{c.title}</option>\n        ))}\n      </select>\n      <button type=\"submit\">{editingRegistration ? 'UPDATE' : 'ADD'} Registration</button>\n      {editingRegistration && <button type=\"button\" onClick={clearEdit}>Cancel</button>}\n    </form>\n  )\n}\n\nexport default StudentForm"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE5C,MAAMC,WAAW,GAAGA,CAAC;EAACC,KAAK;EAAEC,QAAQ;EAAEC,QAAQ;EAAEC,OAAO;EAAEC,mBAAmB;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAE5F,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACc,MAAM,EAAEC,SAAS,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAExCC,SAAS,CAAC,MAAM;IACd,IAAIQ,mBAAmB,EAAE;MACvBI,OAAO,CAACJ,mBAAmB,CAACO,OAAO,CAACJ,IAAI,CAAC;MACzCG,SAAS,CAACN,mBAAmB,CAACK,MAAM,CAACG,GAAG,CAAC;IAC3C;EACF,CAAC,EAAE,CAACR,mBAAmB,CAAC,CAAC;EAEzB,MAAMS,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACR,IAAI,IAAI,CAACE,MAAM,EAAE;IAEtB,MAAMO,OAAO,GAAG;MACdT,IAAI,EAAEA,IAAI,CAACU,IAAI,CAAC,CAAC;MACjBR;IACF,CAAC;IAED,MAAMS,GAAG,GAAGd,mBAAmB,GAC3B,2CAA2CA,mBAAmB,CAACQ,GAAG,EAAE,GACpE,yCAAyC;IAE7C,MAAMO,MAAM,GAAGf,mBAAmB,GAAG,OAAO,GAAG,MAAM;IAErD,MAAMgB,GAAG,GAAG,MAAMC,KAAK,CAACH,GAAG,EAAE;MAC3BC,MAAM;MACNG,OAAO,EAAE;QAAC,cAAc,EAAG;MAAkB,CAAC;MAC9CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACT,OAAO;IAC9B,CAAC,CAAC;IAEF,MAAMU,IAAI,GAAG,MAAMN,GAAG,CAACO,IAAI,CAAC,CAAC;IAE7B,IAAIvB,mBAAmB,EAAE;MACvBH,QAAQ,CAACyB,IAAI,CAAC;MACdrB,SAAS,CAAC,CAAC;IACb,CAAC,MAAM;MACLL,KAAK,CAAC0B,IAAI,CAAC;IACb;IAEAlB,OAAO,CAAC,EAAE,CAAC;IACXE,SAAS,CAAC,EAAE,CAAC;EACf,CAAC;EAED,oBACEZ,OAAA;IAAM8B,QAAQ,EAAEf,YAAa;IAAAgB,QAAA,gBAC3B/B,OAAA;MAAOgC,KAAK,EAAE5B,QAAQ,CAACK,IAAK;MAACwB,QAAQ,EAAGjB,CAAC,IAAKN,OAAO,CAACM,CAAC,CAACkB,MAAM,CAACF,KAAK;IAAE;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eAC/EtC,OAAA;MAAQgC,KAAK,EAAErB,MAAM,CAAC4B,KAAM;MAACN,QAAQ,EAAGjB,CAAC,IAAKJ,SAAS,CAACI,CAAC,CAACkB,MAAM,CAACF,KAAK,CAAE;MAAAD,QAAA,gBACtE/B,OAAA;QAAQgC,KAAK,EAAE,EAAG;QAAAD,QAAA,EAAC;MAAa;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EACxCjC,OAAO,CAACmC,GAAG,CAAEC,CAAC,iBACbzC,OAAA;QAAoBgC,KAAK,EAAES,CAAC,CAAC3B,GAAI;QAAAiB,QAAA,EAAEU,CAAC,CAACF;MAAK,GAA7BE,CAAC,CAAC3B,GAAG;QAAAqB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAiC,CACpD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CAAC,eACTtC,OAAA;MAAQ0C,IAAI,EAAC,QAAQ;MAAAX,QAAA,GAAEzB,mBAAmB,GAAG,QAAQ,GAAG,KAAK,EAAC,eAAa;IAAA;MAAA6B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACnFhC,mBAAmB,iBAAIN,OAAA;MAAQ0C,IAAI,EAAC,QAAQ;MAACC,OAAO,EAAEpC,SAAU;MAAAwB,QAAA,EAAC;IAAM;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC7E,CAAC;AAEX,CAAC;AAAA9B,EAAA,CA3DKP,WAAW;AAAA2C,EAAA,GAAX3C,WAAW;AA6DjB,eAAeA,WAAW;AAAA,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}