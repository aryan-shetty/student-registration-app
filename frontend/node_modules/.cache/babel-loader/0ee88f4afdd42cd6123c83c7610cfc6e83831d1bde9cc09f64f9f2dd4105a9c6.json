{"ast":null,"code":"var _jsxFileName = \"/Users/aryanshetty/Desktop/Student App/frontend/src/pages/RegistrationsPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport RegistrationForm from '../components/RegistrationForm';\nimport RegistrationList from '../components/RegistrationList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RegistrationsPage = () => {\n  _s();\n  const [students, setStudents] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [registrations, setRegistrations] = useState([]);\n  const [editingRegistration, setEditingRegistration] = useState(null);\n  useEffect(() => {\n    fetch('http://localhost:4000/api/courses').then(res => res.json()).then(setCourses);\n    fetch('http://localhost:4000/api/students').then(res => res.json()).then(setStudents);\n    fetch('http://localhost:4000/api/registrations').then(res => res.json()).then(setRegistrations);\n  }, []);\n  const handleAdd = newRegistration => {\n    setRegistrations(prev => [...prev, newRegistration]);\n  };\n  const handleUpdate = updated => {\n    setRegistrations(prev => prev.map(s => s._id === updated._id ? updated : s));\n  };\n  const handleDelete = async id => {\n    await fetch(`http://localhost:4000/api/registrations/${id}`, {\n      method: 'DELETE'\n    });\n    setRegistrations(prev => prev.filter(s => s._id !== id));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Students\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RegistrationForm, {\n      onAdd: handleAdd,\n      onUpdate: handleUpdate,\n      students: students,\n      courses: courses,\n      editingRegistration: editingRegistration,\n      clearEdit: () => setEditingRegistration(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RegistrationList, {\n      registrations: registrations,\n      onEdit: setEditingRegistration,\n      onDelete: handleDelete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(RegistrationsPage, \"2VhJyHxcaWBC3puWN9t9OBwUUcY=\");\n_c = RegistrationsPage;\nexport default RegistrationsPage;\nvar _c;\n$RefreshReg$(_c, \"RegistrationsPage\");","map":{"version":3,"names":["useState","useEffect","RegistrationForm","RegistrationList","jsxDEV","_jsxDEV","RegistrationsPage","_s","students","setStudents","courses","setCourses","registrations","setRegistrations","editingRegistration","setEditingRegistration","fetch","then","res","json","handleAdd","newRegistration","prev","handleUpdate","updated","map","s","_id","handleDelete","id","method","filter","children","fileName","_jsxFileName","lineNumber","columnNumber","onAdd","onUpdate","clearEdit","onEdit","onDelete","_c","$RefreshReg$"],"sources":["/Users/aryanshetty/Desktop/Student App/frontend/src/pages/RegistrationsPage.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport RegistrationForm from '../components/RegistrationForm'\nimport RegistrationList from '../components/RegistrationList'\n\nconst RegistrationsPage = () => {\n\n  const [students, setStudents] = useState([])\n  const [courses, setCourses] = useState([])\n  const [registrations, setRegistrations] = useState([])\n  const [editingRegistration, setEditingRegistration] = useState(null)\n\n  useEffect(() => {\n    fetch('http://localhost:4000/api/courses')\n      .then(res => res.json())\n      .then(setCourses)\n\n    fetch('http://localhost:4000/api/students')\n      .then(res => res.json())\n      .then(setStudents)\n\n    fetch('http://localhost:4000/api/registrations')\n      .then(res => res.json())\n      .then(setRegistrations)\n  }, [])\n\n  const handleAdd = (newRegistration) => {\n    setRegistrations(prev => [...prev, newRegistration])\n  }\n\n  const handleUpdate = (updated) => {\n    setRegistrations(prev => prev.map(s => s._id === updated._id ? updated : s))\n  }\n  \n  const handleDelete = async (id) => {\n    await fetch(`http://localhost:4000/api/registrations/${id}`, {method: 'DELETE'})\n    setRegistrations(prev => prev.filter(s => s._id !== id))\n  }\n\n  return (\n    <div>\n      <h2>Students</h2>\n\n      <RegistrationForm \n        onAdd={handleAdd}\n        onUpdate={handleUpdate}\n        students={students}\n        courses={courses}\n        editingRegistration={editingRegistration}\n        clearEdit={() => setEditingRegistration(null)}\n      />\n\n      <RegistrationList \n        registrations={registrations}\n        onEdit={setEditingRegistration}\n        onDelete={handleDelete}\n      />\n    </div>\n  )\n}\n\nexport default RegistrationsPage"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}