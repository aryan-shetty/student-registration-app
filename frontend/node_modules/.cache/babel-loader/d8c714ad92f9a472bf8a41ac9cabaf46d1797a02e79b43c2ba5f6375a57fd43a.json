{"ast":null,"code":"var _jsxFileName = \"/Users/aryanshetty/Desktop/Student App/frontend/src/components/StudentForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentForm = ({\n  onAdd,\n  onUpdate,\n  courses,\n  editingStudent,\n  clearEdit\n}) => {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [course, setCourse] = useState('');\n  useEffect(() => {\n    if (editingStudent) {\n      setName(editingStudent.name);\n      setEmail(editingStudent.email);\n      setCourse(editingStudent.course._id);\n    }\n  }, [editingStudent]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!name || !email || !course) return;\n    const payload = {\n      name: name.trim(),\n      email: email.trim(),\n      course\n    };\n    const url = editingStudent ? `http://localhost:4000/api/students/${editingStudent._id}` : 'http://localhost:4000/api/students';\n    const method = editingStudent ? 'PATCH' : 'POST';\n    const res = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    if (editingStudent) {\n      onUpdate(data);\n      clearEdit();\n    } else {\n      onAdd(data);\n    }\n    setName('');\n    setEmail('');\n    setCourse('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      value: name,\n      onChange: e => setName(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      value: email,\n      onChange: e => setEmail(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: course,\n      onChange: e => setCourse(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: '',\n        children: \"Select course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), courses.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: c._id,\n        children: c.title\n      }, c._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: [editingStudent ? 'UPDATE' : 'ADD', \" Student\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), editingStudent && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: clearEdit,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentForm, \"uq12Xj2zsmUiCIO9IaIaofp0O0k=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","StudentForm","onAdd","onUpdate","courses","editingStudent","clearEdit","_s","name","setName","email","setEmail","course","setCourse","_id","handleSubmit","e","preventDefault","payload","trim","url","method","res","fetch","headers","body","JSON","stringify","data","json","onSubmit","children","value","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","map","c","title","type","onClick","_c","$RefreshReg$"],"sources":["/Users/aryanshetty/Desktop/Student App/frontend/src/components/StudentForm.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst StudentForm = ({onAdd, onUpdate, courses, editingStudent, clearEdit}) => {\n\n  const [name, setName] = useState('')\n  const [email, setEmail] = useState('')\n  const [course, setCourse] = useState('')\n\n  useEffect(() => {\n    if (editingStudent) {\n      setName(editingStudent.name)\n      setEmail(editingStudent.email)\n      setCourse(editingStudent.course._id)\n    }\n  }, [editingStudent])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    if (!name || !email || !course) return\n\n    const payload = {\n      name: name.trim(),\n      email: email.trim(),\n      course\n    }\n\n    const url = editingStudent\n      ? `http://localhost:4000/api/students/${editingStudent._id}`\n      : 'http://localhost:4000/api/students'\n\n    const method = editingStudent ? 'PATCH' : 'POST'\n\n    const res = await fetch(url, {\n      method,\n      headers: {'Content-Type' : 'application/json'},\n      body: JSON.stringify(payload)\n    })\n\n    const data = await res.json()\n\n    if (editingStudent) {\n      onUpdate(data)\n      clearEdit()\n    } else {\n      onAdd(data)\n    }\n\n    setName('')\n    setEmail('')\n    setCourse('')\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <input value={name} onChange={(e) => setName(e.target.value)}></input>\n      <input value={email} onChange={(e) => setEmail(e.target.value)}></input>\n      <select value={course} onChange={(e) => setCourse(e.target.value)}>\n        <option value={''}>Select course</option>\n        {courses.map((c) => (\n          <option key={c._id} value={c._id}>{c.title}</option>\n        ))}\n      </select>\n      <button type=\"submit\">{editingStudent ? 'UPDATE' : 'ADD'} Student</button>\n      {editingStudent && <button type=\"button\" onClick={clearEdit}>Cancel</button>}\n    </form>\n  )\n}\n\nexport default StudentForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}