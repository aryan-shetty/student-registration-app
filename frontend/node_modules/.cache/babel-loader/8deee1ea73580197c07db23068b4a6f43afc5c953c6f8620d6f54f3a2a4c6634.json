{"ast":null,"code":"var _jsxFileName = \"/Users/aryanshetty/Desktop/Student App/frontend/src/components/RegistrationForm.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StudentForm = ({\n  onAdd,\n  onUpdate,\n  students,\n  courses,\n  editingRegistration,\n  clearEdit\n}) => {\n  _s();\n  const [student, setStudent] = useState('');\n  const [course, setCourse] = useState('');\n  useEffect(() => {\n    if (editingRegistration) {\n      setStudent(editingRegistration.student._id);\n      setCourse(editingRegistration.course._id);\n    }\n  }, [editingRegistration]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!student || !course) return;\n    const payload = {\n      student,\n      course\n    };\n    const url = editingRegistration ? `http://localhost:4000/api/registrations/${editingRegistration._id}` : 'http://localhost:4000/api/registrations';\n    const method = editingRegistration ? 'PATCH' : 'POST';\n    const res = await fetch(url, {\n      method,\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(payload)\n    });\n    const data = await res.json();\n    if (editingRegistration) {\n      onUpdate(data);\n      clearEdit();\n    } else {\n      onAdd(data);\n    }\n    setStudent('');\n    setCourse('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: student.name,\n      onChange: e => setStudent(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: '',\n        children: \"Select student\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), students.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: c._id,\n        children: c.name\n      }, c._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: course.title,\n      onChange: e => setCourse(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: '',\n        children: \"Select course\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), courses.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: c._id,\n        children: c.title\n      }, c._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: [editingRegistration ? 'UPDATE' : 'ADD', \" Registration\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), editingRegistration && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: clearEdit,\n      children: \"Cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 31\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_s(StudentForm, \"i1gW6xY7VPeBQfffvq+o738Gxe8=\");\n_c = StudentForm;\nexport default StudentForm;\nvar _c;\n$RefreshReg$(_c, \"StudentForm\");","map":{"version":3,"names":["useState","useEffect","jsxDEV","_jsxDEV","StudentForm","onAdd","onUpdate","students","courses","editingRegistration","clearEdit","_s","student","setStudent","course","setCourse","_id","handleSubmit","e","preventDefault","payload","url","method","res","fetch","headers","body","JSON","stringify","data","json","onSubmit","children","value","name","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","map","c","title","type","onClick","_c","$RefreshReg$"],"sources":["/Users/aryanshetty/Desktop/Student App/frontend/src/components/RegistrationForm.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\n\nconst StudentForm = ({onAdd, onUpdate, students, courses, editingRegistration, clearEdit}) => {\n\n  const [student, setStudent] = useState('')\n  const [course, setCourse] = useState('')\n\n  useEffect(() => {\n    if (editingRegistration) {\n      setStudent(editingRegistration.student._id)\n      setCourse(editingRegistration.course._id)\n    }\n  }, [editingRegistration])\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    if (!student || !course) return\n\n    const payload = {\n      student,\n      course\n    }\n\n    const url = editingRegistration\n      ? `http://localhost:4000/api/registrations/${editingRegistration._id}`\n      : 'http://localhost:4000/api/registrations'\n\n    const method = editingRegistration ? 'PATCH' : 'POST'\n\n    const res = await fetch(url, {\n      method,\n      headers: {'Content-Type' : 'application/json'},\n      body: JSON.stringify(payload)\n    })\n\n    const data = await res.json()\n\n    if (editingRegistration) {\n      onUpdate(data)\n      clearEdit()\n    } else {\n      onAdd(data)\n    }\n\n    setStudent('')\n    setCourse('')\n  }\n  \n  return (\n    <form onSubmit={handleSubmit}>\n      <select value={student.name} onChange={(e) => setStudent(e.target.value)}>\n        <option value={''}>Select student</option>\n        {students.map((c) => (\n          <option key={c._id} value={c._id}>{c.name}</option>\n        ))}\n      </select>\n      <select value={course.title} onChange={(e) => setCourse(e.target.value)}>\n        <option value={''}>Select course</option>\n        {courses.map((c) => (\n          <option key={c._id} value={c._id}>{c.title}</option>\n        ))}\n      </select>\n      <button type=\"submit\">{editingRegistration ? 'UPDATE' : 'ADD'} Registration</button>\n      {editingRegistration && <button type=\"button\" onClick={clearEdit}>Cancel</button>}\n    </form>\n  )\n}\n\nexport default StudentForm"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}